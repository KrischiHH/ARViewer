<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AR Viewer</title>
    <!-- A-Frame und AR.js einbinden -->
    <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
    <script src="https://cdn.rawgit.com/jeromeetienne/AR.js/master/aframe/build/aframe-ar.js"></script>
    <style>
        body, html {
            margin: 0;
            padding: 0;
            overflow: hidden;
            touch-action: none;
        }
    </style>
</head>
<body>
    <a-scene embedded>
        <!-- AR-Marker (Hiro-Marker) -->
        <a-marker preset="hiro">
            <a-entity 
                gltf-model="https://cute-lebkuchen-775ad4.netlify.app/models/testCube%20(1).glb" 
                scale="0.1 0.1 0.1">
            </a-entity>
        </a-marker>

        <!-- Kamera (ohne festen fov) -->
        <a-entity id="camera" camera></a-entity>

        <!-- Beleuchtung in der Szene -->
        <a-entity light="type: ambient; color: #FFFFFF; intensity: 0.5"></a-entity>
        <a-entity light="type: directional; color: #FFFFFF; intensity: 1" position="1 2 1"></a-entity>
    </a-scene>

    <script>
        // Dynamische Anpassung für Mobil- und Desktopgerät
        window.addEventListener('load', () => {
            const arScene = document.querySelector('a-scene');
            const isMobile = /Android|iPhone|iPad|iPod/i.test(navigator.userAgent);

            // Parameter für Mobilgerät und Desktopgerät
            if (isMobile) {
                // Einstellungen für Mobilgeräte mit 1080x1920
                arScene.setAttribute('arjs', 'sourceType: webcam; debugUIEnabled: false; sourceWidth: 1080; sourceHeight: 1920; displayWidth: window.innerWidth; displayHeight: window.innerHeight;');
                document.querySelector('#camera').setAttribute('camera', 'fov: 65'); // Leichter Zoom für mobiles Gerät
            } else {
                // Einstellungen für Desktops
                arScene.setAttribute('arjs', 'sourceType: webcam; debugUIEnabled: false; sourceWidth: 1920; sourceHeight: 1080; displayWidth: window.innerWidth; displayHeight: window.innerHeight;');
                document.querySelector('#camera').setAttribute('camera', 'fov: 50'); // Etwas weiterer Zoom für Desktop
            }
        });
    </script>
</body>
</html>
